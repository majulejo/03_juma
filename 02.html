<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="evolucion.png" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <title>02_Evolución de Enfermería</title>
    <style>
      body {
        font-family: "Montserrat", sans-serif;
        margin: 20px;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #f0f8ff;
      }
      h1 {
        text-align: center;
        margin-bottom: 20px;
        font-size: 24px;
      }
      .box-selector {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .box-selector button {
        padding: 10px 15px;
        font-size: 14px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: white;
        min-width: 80px;
      }
      .box-selector button.active {
        background-color: #0056b3;
      }
      .formulario {
        width: 100%;
        max-width: 600px;
        margin-bottom: 20px;
      }
      .campo {
        margin-bottom: 15px;
        text-align: center;
      }
      .campo label {
        font-weight: bold;
        display: block;
        margin-bottom: 5px;
        font-size: 14px;
      }
      .campo textarea {
        width: 95%;
        height: 80px;
        padding: 10px;
        font-size: 14px;
        border: 1px solid #ccc;
        border-radius: 5px;
        resize: none;
      }
      .buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
        flex-wrap: wrap;
        gap: 10px;
      }
      .buttons button {
        padding: 10px 15px;
        font-size: 14px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: white;
        flex-grow: 1;
        min-width: 120px;
      }
      .resultado {
        margin-top: 20px;
        padding: 20px;
        font-family: "Montserrat", sans-serif;
        font-size: 12px;
        line-height: 1.5;
        display: none;
      }
      .resultado b {
        font-weight: bold; /* Labels en negrita */
      }

      /* Estilos para la impresión */
      @media print {
        body > *:not(.resultado) {
          display: none !important;
        }

        .resultado {
          display: block !important;
          position: absolute;
          top: auto;
          bottom: 2.5cm;
          left: 3cm;
          right: 1cm;
          font-size: 12px;
          max-height: 90vh;
          font-family: "Montserrat", sans-serif;
          line-height: 1.5;
        }

        .resultado.d1 {
          top: 0cm;
          bottom: auto;
        }
		.campo {
    margin-bottom: 2px !important; /* Reduce el espacio entre campos al imprimir */
  }

  .campo label {
    margin-bottom: 2px !important; /* Reduce espacio entre etiqueta y textarea */
    font-size: 11px;
  }

  .campo textarea {
    height: 50px !important; /* Opcional: reduce altura del textarea */
    font-size: 11px;
    padding: 5px;
  }
  /* Opcional: reducir margen superior e inferior del contenedor de resultados */
  .resultado {
    padding-top: 10px;
    padding-bottom: 10px;
  }
      }
    </style>
  </head>
  <body>
    <h1>Evolución de Enfermería</h1>
    <!-- Selector de Box/Paciente -->
    <div class="box-selector">
      <button onclick="selectBox(1)">Box 1</button>
      <button onclick="selectBox(2)">Box 2</button>
      <button onclick="selectBox(3)">Box 3</button>
      <button onclick="selectBox(4)">Box 4</button>
      <button onclick="selectBox(5)">Box 5</button>
      <button onclick="selectBox(6)">Box 6</button>
      <button onclick="selectBox(7)">Box 7</button>
      <button onclick="selectBox(8)">Box 8</button>
      <button onclick="selectBox(9)">Box 9</button>
      <button onclick="selectBox(10)">Box 10</button>
      <button onclick="selectBox(11)">Box 11</button>
      <button onclick="selectBox(12)">Box 12</button>
    </div>
    <!-- Formulario dinámico -->
    <form class="formulario" id="formulario">
      <div class="campo">
        <label for="neurologico">1. NEUROLÓGICO:</label>
        <textarea
          id="neurologico"
          placeholder="Ejemplo: Apertura de ojos y reacciona ante estímulos..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="cardiovascular">2. CARDIOVASCULAR:</label>
        <textarea
          id="cardiovascular"
          placeholder="Ejemplo: Estable hemodinámicamente sin drogas vaso activas..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="respiratorio">3. RESPIRATORIO:</label>
        <textarea
          id="respiratorio"
          placeholder="Ejemplo: Mantiene buenas saturaciones..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="renal">4. RENAL:</label>
        <textarea
          id="renal"
          placeholder="Ejemplo: Buenas diuresis sin furosemida..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="gastrointestinal">5. GASTROINTESTINAL:</label>
        <textarea
          id="gastrointestinal"
          placeholder="Ejemplo: Tolera dieta enteral..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="nutricional">6. NUTRICIONAL/METABÓLICO:</label>
        <textarea
          id="nutricional"
          placeholder="Ejemplo: Glucemias normales con perfusión de insulina..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="termorregulacion">7. TERMORREGULACIÓN:</label>
        <textarea
          id="termorregulacion"
          placeholder="Ejemplo: Afebril..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="piel">8. PIEL:</label>
        <textarea
          id="piel"
          placeholder="Ejemplo: Ausencia de escaras..."
        ></textarea>
      </div>
      <div class="campo">
        <label for="otros">9. OTROS:</label>
        <textarea
          id="otros"
          placeholder="Ejemplo: Otros comentarios..."
        ></textarea>
      </div>
    </form>
    <!-- Botones de acción -->
    <div class="buttons">
      <button onclick="generarInforme()">Generar Informe</button>
      <button onclick="imprimirD1()">Imprimir (D1)</button>
      <button onclick="imprimirD2()">Imprimir (D2)</button>
      <button onclick="borrarDatos()">Borrar Datos</button>
    </div>
    <!-- Área de resultados -->
    <div class="resultado" id="resultado">
      <!-- Aquí se mostrará el informe -->
    </div>
    <script>
      const pacientes = Array.from({ length: 12 }, () => ({
        neurologico: "",
        cardiovascular: "",
        respiratorio: "",
        renal: "",
        gastrointestinal: "",
        nutricional: "",
        termorregulacion: "",
        piel: "",
        otros: "",
      }));
      let selectedBox = 1;

      function selectBox(boxNumber) {
        selectedBox = boxNumber;
        updateForm();
        document.querySelectorAll(".box-selector button").forEach((button) => {
          button.classList.remove("active");
        });
        document
          .querySelector(`.box-selector button:nth-child(${boxNumber})`)
          .classList.add("active");
      }

      function updateForm() {
        const patientData = pacientes[selectedBox - 1];
        document.getElementById("neurologico").value = patientData.neurologico;
        document.getElementById("cardiovascular").value =
          patientData.cardiovascular;
        document.getElementById("respiratorio").value =
          patientData.respiratorio;
        document.getElementById("renal").value = patientData.renal;
        document.getElementById("gastrointestinal").value =
          patientData.gastrointestinal;
        document.getElementById("nutricional").value = patientData.nutricional;
        document.getElementById("termorregulacion").value =
          patientData.termorregulacion;
        document.getElementById("piel").value = patientData.piel;
        document.getElementById("otros").value = patientData.otros;
      }

      function guardarDatos() {
        const patientData = pacientes[selectedBox - 1];
        patientData.neurologico = document.getElementById("neurologico").value;
        patientData.cardiovascular =
          document.getElementById("cardiovascular").value;
        patientData.respiratorio =
          document.getElementById("respiratorio").value;
        patientData.renal = document.getElementById("renal").value;
        patientData.gastrointestinal =
          document.getElementById("gastrointestinal").value;
        patientData.nutricional = document.getElementById("nutricional").value;
        patientData.termorregulacion =
          document.getElementById("termorregulacion").value;
        patientData.piel = document.getElementById("piel").value;
        patientData.otros = document.getElementById("otros").value;
      }

      function generarInforme(turno = "") {
        guardarDatos(); // Guarda los datos antes de generar el informe
        const patientData = pacientes[selectedBox - 1];
        // Generar el contenido del informe
        const informe = `
  <p><strong>BOX ${selectedBox} - ${turno}</strong></p>
  <p><strong>1. NEUROLÓGICO:</strong> ${
    patientData.neurologico || "No especificado"
  }</p>
  <p><strong>2. CARDIOVASCULAR:</strong> ${
    patientData.cardiovascular || "No especificado"
  }</p>
  <p><strong>3. RESPIRATORIO:</strong> ${
    patientData.respiratorio || "No especificado"
  }</p>
  <p><strong>4. RENAL:</strong> ${patientData.renal || "No especificado"}</p>
  <p><strong>5. GASTROINTESTINAL:</strong> ${
    patientData.gastrointestinal || "No especificado"
  }</p>
  <p><strong>6. NUTRICIONAL/METABÓLICO:</strong> ${
    patientData.nutricional || "No especificado"
  }</p>
  <p><strong>7. TERMORREGULACIÓN:</strong> ${
    patientData.termorregulacion || "No especificado"
  }</p>
  <p><strong>8. PIEL:</strong> ${patientData.piel || "No especificado"}</p>
  <p><strong>9. OTROS:</strong> ${patientData.otros || "No especificado"}</p>
`;

        document.getElementById("resultado").innerHTML = informe; // Usar innerHTML
        document.getElementById("resultado").style.display = "block";
      }

      function imprimirD1() {
        generarInforme("Turno de 8 a 20 horas"); // Agregar el turno correspondiente
        document.getElementById("resultado").classList.remove("d2");
        document.getElementById("resultado").classList.add("d1");
        window.print();
      }

      function imprimirD2() {
        generarInforme("Turno de 20 a 8 horas"); // Agregar el turno correspondiente
        document.getElementById("resultado").classList.remove("d1");
        document.getElementById("resultado").classList.add("d2");
        window.print();
      }

      function borrarDatos() {
        pacientes[selectedBox - 1] = {
          neurologico: "",
          cardiovascular: "",
          respiratorio: "",
          renal: "",
          gastrointestinal: "",
          nutricional: "",
          termorregulacion: "",
          piel: "",
          otros: "",
        };
        updateForm();
      }

      selectBox(1);
    </script>
  </body>
</html>
